<ion-view view-title="Search Arist or Track">
  <ion-content>

    <!-- Search Bar -->
    <form class="item item-input-inset" ng-submit="onSubmit(query)">
      <label class="item-input-wrapper">
        <!-- query doesn't exist on scope of SearchCtrl -->
        <!-- Must be passed to ctrl through onSubmit function -->
        <input type="text" placeholder="Search" ng-model="query">
      </label>
      <button class="button button-small">
        Submit
      </button>
    </form>

    <!-- Track Results -->
    <ion-list>
      <ion-item class="item-divider">
        Tracks - top results
      </ion-item>
      <ion-item ng-repeat="item in trackResults" class="item-button-right">
        <h3>{{item.name}}</h3>
        <p>{{item.artists[0].name}} â€¢ {{item.album.name}}</p>
        <button class="button button-clear button-stable button-large" ng-click="onAddButtonClick($event)">
          <i class="icon ion-android-add"></i>
        </button>
      </ion-item>
    </ion-list>

    <!-- Artist Results -->
    <ion-list>
      <ion-item class="item-divider">
        Artists - top results
      </ion-item>
      <a ng-repeat="item in artistResults" class="item-avatar item" ui-sref="tab.artist-detail({artistid: item.id, artistName: item.name, userid: userid})">
        <img ng-src="{{item.images[2].url}}">
        <h2>{{item.name}}</h2>
      </a>
    </ion-list>

    <script id="add-to-playlist.html" type="text/ng-template">
      <ion-popover-view style="height: {{(60 * playlists.length + 43) + 'px'}}; max-height: 300px; overflow-y: scroll; width: 300px">
        <ion-header-bar>
          <h2 class="title">Add to Playlist</h2>
        </ion-header-bar>
        <ion-content>
          <div class="list">
            <div class="item" ng-repeat="playlist in playlists">
              {{playlist.name}}
            </div>
          </div>
        </ion-content>
      </ion-popover-view>
    </script>

  </ion-content>
</ion-view>
